{"version":4,"terraform_version":"1.10.6","serial":1,"lineage":"ca94cf5a-f310-b334-39d5-d33bfd3a15ef","outputs":{"dynamodb":{"value":"k8s-task-dynamodb-state-locking","type":"string"},"s3_bucket":{"value":"k8s-task-terraform-s3-bucket","type":"string"}},"resources":[{"mode":"data","type":"aws_iam_policy_document","name":"enforce_https","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"3828043114","json":"{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Deny\",\n      \"Action\": \"s3:*\",\n      \"Resource\": [\n        \"arn:aws:s3:::k8s-task-terraform-s3-bucket/*\",\n        \"arn:aws:s3:::k8s-task-terraform-s3-bucket\"\n      ],\n      \"Principal\": \"*\",\n      \"Condition\": {\n        \"Bool\": {\n          \"aws:SecureTransport\": \"false\"\n        },\n        \"NumericLessThan\": {\n          \"s3:TlsVersion\": \"1.2\"\n        }\n      }\n    }\n  ]\n}","minified_json":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Deny\",\"Action\":\"s3:*\",\"Resource\":[\"arn:aws:s3:::k8s-task-terraform-s3-bucket/*\",\"arn:aws:s3:::k8s-task-terraform-s3-bucket\"],\"Principal\":\"*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"},\"NumericLessThan\":{\"s3:TlsVersion\":\"1.2\"}}}]}","override_json":null,"override_policy_documents":null,"policy_id":null,"source_json":null,"source_policy_documents":null,"statement":[{"actions":["s3:*"],"condition":[{"test":"Bool","values":["false"],"variable":"aws:SecureTransport"},{"test":"NumericLessThan","values":["1.2"],"variable":"s3:TlsVersion"}],"effect":"Deny","not_actions":[],"not_principals":[],"not_resources":[],"principals":[{"identifiers":["*"],"type":"*"}],"resources":["arn:aws:s3:::k8s-task-terraform-s3-bucket","arn:aws:s3:::k8s-task-terraform-s3-bucket/*"],"sid":""}],"version":"2012-10-17"},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_dynamodb_table","name":"terraform_state_lock","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:dynamodb:eu-west-1:651980439276:table/k8s-task-dynamodb-state-locking","attribute":[{"name":"LockID","type":"S"}],"billing_mode":"PROVISIONED","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"LockID","id":"k8s-task-dynamodb-state-locking","import_table":[],"local_secondary_index":[],"name":"k8s-task-dynamodb-state-locking","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":1,"region":"eu-west-1","replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"Environment":"SANDBOX","ManagedBy":"alytaha46@gmail.com","Project":"k8s-task"},"tags_all":{"Environment":"SANDBOX","ManagedBy":"alytaha46@gmail.com","Project":"k8s-task"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":1},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]},{"mode":"managed","type":"aws_s3_bucket_policy","name":"allow_access_from_another_account","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"k8s-task-terraform-s3-bucket","id":"k8s-task-terraform-s3-bucket","policy":"{\"Statement\":[{\"Action\":\"s3:*\",\"Condition\":{\"Bool\":{\"aws:SecureTransport\":\"false\"},\"NumericLessThan\":{\"s3:TlsVersion\":\"1.2\"}},\"Effect\":\"Deny\",\"Principal\":\"*\",\"Resource\":[\"arn:aws:s3:::k8s-task-terraform-s3-bucket/*\",\"arn:aws:s3:::k8s-task-terraform-s3-bucket\"]}],\"Version\":\"2012-10-17\"}","region":"eu-west-1"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.aws_iam_policy_document.enforce_https","module.s3_bucket.aws_s3_bucket.this","module.s3_bucket.aws_s3_directory_bucket.this"]}]},{"module":"module.s3_bucket","mode":"data","type":"aws_caller_identity","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"account_id":"651980439276","arn":"arn:aws:iam::651980439276:user/terraform","id":"651980439276","user_id":"AIDAZPTIP73WEETXGN2HG"},"sensitive_attributes":[]}]},{"module":"module.s3_bucket","mode":"data","type":"aws_partition","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"dns_suffix":"amazonaws.com","id":"aws","partition":"aws","reverse_dns_prefix":"com.amazonaws"},"sensitive_attributes":[]}]},{"module":"module.s3_bucket","mode":"data","type":"aws_region","name":"current","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"description":"Europe (Ireland)","endpoint":"ec2.eu-west-1.amazonaws.com","id":"eu-west-1","name":"eu-west-1","region":"eu-west-1"},"sensitive_attributes":[]}]},{"module":"module.s3_bucket","mode":"managed","type":"aws_s3_bucket","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::k8s-task-terraform-s3-bucket","bucket":"k8s-task-terraform-s3-bucket","bucket_domain_name":"k8s-task-terraform-s3-bucket.s3.amazonaws.com","bucket_prefix":"","bucket_region":"eu-west-1","bucket_regional_domain_name":"k8s-task-terraform-s3-bucket.s3.eu-west-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"841691cb50fed88c3af393310399a64290dcd1dd05807f7fbb38ead7481ba121","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z1BKCTXD74EZPE","id":"k8s-task-terraform-s3-bucket","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"eu-west-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Environment":"SANDBOX","ManagedBy":"alytaha46@gmail.com","Project":"k8s-task"},"tags_all":{"Environment":"SANDBOX","ManagedBy":"alytaha46@gmail.com","Project":"k8s-task"},"timeouts":null,"versioning":[{"enabled":false,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"module":"module.s3_bucket","mode":"managed","type":"aws_s3_bucket_public_access_block","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"block_public_acls":true,"block_public_policy":true,"bucket":"k8s-task-terraform-s3-bucket","id":"k8s-task-terraform-s3-bucket","ignore_public_acls":true,"region":"eu-west-1","restrict_public_buckets":true,"skip_destroy":true},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.s3_bucket.aws_s3_bucket.this"]}]},{"module":"module.s3_bucket","mode":"managed","type":"aws_s3_bucket_versioning","name":"this","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"index_key":0,"schema_version":0,"attributes":{"bucket":"k8s-task-terraform-s3-bucket","expected_bucket_owner":"","id":"k8s-task-terraform-s3-bucket","mfa":null,"region":"eu-west-1","versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["module.s3_bucket.aws_s3_bucket.this"]}]}],"check_results":null}
